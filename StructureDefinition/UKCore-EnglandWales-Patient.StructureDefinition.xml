<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <url value="https://fhir.nhs.uk/R4/StructureDefinition/UKCore-EnglandWales-Patient" />
  <name value="UKCore-EnglandWales-Patient" />
  <status value="draft" />
  <description value="Rule on top of UK Core to make NHS Number mandatory." />
  <fhirVersion value="4.0.1" />
  <mapping>
    <identity value="rim" />
    <uri value="http://hl7.org/v3" />
    <name value="RIM Mapping" />
  </mapping>
  <mapping>
    <identity value="cda" />
    <uri value="http://hl7.org/v3/cda" />
    <name value="CDA (R2)" />
  </mapping>
  <mapping>
    <identity value="w5" />
    <uri value="http://hl7.org/fhir/fivews" />
    <name value="FiveWs Pattern Mapping" />
  </mapping>
  <mapping>
    <identity value="v2" />
    <uri value="http://hl7.org/v2" />
    <name value="HL7 v2 Mapping" />
  </mapping>
  <mapping>
    <identity value="loinc" />
    <uri value="http://loinc.org" />
    <name value="LOINC code for the element" />
  </mapping>
  <kind value="resource" />
  <abstract value="false" />
  <type value="Patient" />
  <baseDefinition value="https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Patient" />
  <derivation value="constraint" />
  <differential>
    <element id="Patient.identifier:nhsNumber">
      <path value="Patient.identifier" />
      <sliceName value="nhsNumber" />
      <definition value="NHS Number mandatory rule. &#xD;&#xA;&#xD;&#xA;The NHS Number should also be traced for inter provider communication, untraced NHS can be used where systems are known to understand the meaning of untraced and how to handle them." />
      <min value="1" />
    </element>
    <element id="Patient.contact">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-explicit-type-name">
        <valueString value="Contact" />
      </extension>
      <path value="Patient.contact" />
    </element>
    <element id="Patient.generalPractitioner.identifier.type">
      <path value="Patient.generalPractitioner.identifier.type" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="coding.system" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <short value="NHS (England) ODS Organisation Type" />
    </element>
    <element id="Patient.generalPractitioner.identifier.type:organisationODSType">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
        <valueCode value="normative" />
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
        <valueCode value="4.0.0" />
      </extension>
      <path value="Patient.generalPractitioner.identifier.type" />
      <sliceName value="organisationODSType" />
      <definition value="For Organisation references only." />
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierType" />
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
          <valueBoolean value="true" />
        </extension>
        <strength value="extensible" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/UKCore-England-organisation-type" />
      </binding>
    </element>
    <element id="Patient.generalPractitioner.identifier.type:organisationODSType.coding.system">
      <path value="Patient.generalPractitioner.identifier.type.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/R4/CodeSystem/organisation-type" />
    </element>
    <element id="Patient.managingOrganization.identifier.type">
      <path value="Patient.managingOrganization.identifier.type" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="coding.system" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Patient.managingOrganization.identifier.type:organisationODSType">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
        <valueCode value="normative" />
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
        <valueCode value="4.0.0" />
      </extension>
      <path value="Patient.managingOrganization.identifier.type" />
      <sliceName value="organisationODSType" />
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierType" />
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
          <valueBoolean value="true" />
        </extension>
        <strength value="extensible" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/UKCore-England-organisation-type" />
      </binding>
    </element>
    <element id="Patient.managingOrganization.identifier.type:organisationODSType.coding.system">
      <path value="Patient.managingOrganization.identifier.type.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/R4/CodeSystem/organisation-type" />
    </element>
  </differential>
</StructureDefinition>